// variables
drawerWidth = 300px
menyPerspective = 800px

// mixins
add-transition()
    -ms-transition all 1s
    -moz-transition all 1s
    -webkit-transition all 1s
    transition all 1s

force-compositing()
    -ms-transform translate3d(0,0,0)
    -moz-transform translate3d(0,0,0)
    -webkit-transform translate3d(0,0,0)
    transform translate3d(0,0,0)


// styles
.ui-layout
    background #222
    min-height 100%

    // prevent the window from scrolling more then 100%
    &[fx="slide"],
    &[fx="parallax"]
        overflow hidden

    &[fx="meny"] {
            height 100%
            overflow hidden
            -ms-perspective menyPerspective
            -moz-perspective menyPerspective
            -webkit-perspective menyPerspective
            perspective menyPerspective
            -ms-perspective-origin 0px 50%
            -moz-perspective-origin 0px 50%
            -webkit-perspective-origin 0% 50%
            perspective-origin 0% 50%
            width 100%
        }

    [fx="pan"]&,
    [fx="parallax"]& .ui-layout-page,
    [fx="slide"]& .ui-layout-page
        add-transition()
        force-compositing()

        [open="true"]&
            -ms-transform translate3d(drawerWidth,0,0)
            -moz-transform translate3d(drawerWidth,0,0)
            -webkit-transform translate3d(drawerWidth,0,0)
            transform translate3d(drawerWidth,0,0)

    [fx="meny"]& .ui-layout-page
        -ms-transform-origin 0px 50%
        -moz-transform-origin 0px 50%
        -webkit-transform-origin 0px 50%
        transform-origin 0px 50%
        -ms-transition -ms-transform 1s, height 0s
        -moz-transition -moz-transform 1s, height 0s
        -webkit-transition -webkit-transform 1s
        transition transform 1s
        height 100%

        [open="true"]&
            -ms-transform translate3d(300px,0,0) rotateY(15deg)
            -moz-transform translate3d(300px,0,0) rotateY(15deg)
            -webkit-transform translate3d(300px,0,0) rotateY(15deg)
            transform translate3d(300px,0,0) rotateY(15deg)
            overflow hidden

            &:after
                opacity 1
                -moz-transform translate3d(50%,0,0)
                -ms-transform translate3d(50%,0,0)
                -webkit-transform translate3d(50%,0,0)
                transform translate3d(50%,0,0)

        &:after
            background-image -webkit-linear-gradient(left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .2) 20%, rgba(0, 0, 0, .6) 100%)
            background-image linear-gradient(left,rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .2) 20%, rgba(0, 0, 0, .6) 100%)
            bottom 0
            content ''
            left 0%
            opacity 0
            position absolute
            right 0
            top 0
            -ms-transition all 1s
            -moz-transition all 1s
            -webkit-transition all 1s
            transition all 1s
            -moz-transform translate3d(100%, 0, 0)
            -ms-transform translate3d(100%, 0, 0)
            -webkit-transform translate3d(100%, 0, 0)
            transform translate3d(100%, 0, 0)

    [fx="meny"]& .ui-layout-drawer,
    [fx="parallax"]& .ui-layout-drawer
        add-transition()

        [open="true"]&
            force-compositing()

    [fx="meny"]& .ui-layout-drawer
        -moz-transform translate3d(-(drawerWidth),0,0)
        -ms-transform translate3d(-(drawerWidth),0,0)
        -webkit-transform translate3d(-(drawerWidth),0,0)
        transform translate3d(-(drawerWidth),0,0)
        -moz-transform-origin 100% 50%
        -ms-transform-origin 100% 50%
        -webkit-transform-origin 100% 50%
        transform-origin 100% 50%

    [fx="pan"]& .ui-layout-drawer
        right 100%
        left inherit

    [fx="parallax"]& .ui-layout-drawer
        -ms-transform translate3d(-100px,0,0)
        -moz-transform translate3d(-100px,0,0)
        -webkit-transform translate3d(-100px,0,0)
        transform translate3d(-100px,0,0)


.ui-layout-drawer
    background #ccf
    border 1px solid #000
    left 0
    bottom 0
    position fixed
    top 0
    width drawerWidth
    overflow auto

.ui-layout-page
    background #fcf
    border 1px solid #000
    z-index 2
    overflow auto