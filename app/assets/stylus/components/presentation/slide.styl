gray = #e6e6e6

.ui-slide
    border-radius 4px
    -moz-box-sizing: border-box
    box-shadow 0 0 6px rgba(0,0,0,.5)
    box-sizing: border-box
    display -webkit-flex
    display flex
    -webkit-flex-direction column
    -webkit-flex-wrap nowrap
    flex-wrap nowrap
    flex-direction column
    height 100%
    padding 4vmin
    position absolute
    -ms-transition opacity .6s 0
    -moz-transition opacity .6s 0
    -webkit-transition opacity .6s 0
    transition opacity .6s 0
    top 0
    width 100%

    &:not([backdrop="false"]):after,
    &[presentor="true"]:after
        bottom 1.5vmin
        color #aaa
        content attr(index)
        font-size 1.33vmin
        position absolute
        right 1.8vmin

    &:not([state="ui-slide-current"])
        opacity: 0

    &:not([background="false"]),
    &[overview="true"],
    &[presentor="true"]
        background -webkit-linear-gradient(white, white 85%, gray)
        background linear-gradient(white, white 85%, gray)

    &[overview="true"]
        opacity .5

    &[center="true"]
        -webkit-align-items center
        align-items center
        text-align center

    &[vcenter="true"],
    &[type="title"]
        -webkit-justify-content center
        justify-content center

    &[state="ui-slide-current"]
        opacity 1
        z-index 1

    &[presentor="true"]
        padding 2vmin
        -ms-transition none
        -moz-transition none
        -webkit-transition none
        transition none

        &[state="ui-slide-current"]
            right auto
            -webkit-transform scale(.7)
            transform scale(.7)
            -webkit-transform-origin 0% 0%
            transform-origin 0% 0%

        &[state="ui-slide-next"]
            left auto !important
            opacity 1
            right 0
            -webkit-transform scale(.29)
            transform scale(.29)
            -webkit-transform-origin 100% 0%
            transform-origin 100% 0%
            z-index 2

        &[state="ui-slide-next"]:hover
            -webkit-transform scale(.6)
            transform scale(.6)


/* @polyfill hgroup */
content::-webkit-distributed(hgroup)
    -webkit-flex none
    flex none

/* @polyfill article */
content::-webkit-distributed(article)
    border: 1px solid #000
    -webkit-flex 1 1 auto
    flex 1 1 auto
    height 100%
    font-size 1.75vmin
    overflow scroll

/* @polyfill .ui-slide-item */
content::-webkit-distributed(.ui-slide-item)
    -ms-transition opacity 0.6s ease-in-out
    -moz-transition opacity 0.6s ease-in-out
    -webkit-transition opacity 0.6s ease-in-out
    transition opacity 0.6s ease-in-out

/* @polyfill .ui-slide-item-pending */
content::-webkit-distributed(.ui-slide-item-pending)
    opacity 0

/* @polyfill .ui-slide[presentor="true"] .ui-slide-item-pending */
[presentor="true"] content::-webkit-distributed( .ui-slide-item-pending)
    background yellow
    opacity .4

/* @polyfill .ui-slide-item-done */
content::-webkit-distributed(.ui-slide-item-done)
    opacity 1

/* @polyfill .ui-slide-item-done.ui-slide-item-fade */
content::-webkit-distributed(.ui-slide-item-done.ui-slide-item-fade)
    opacity: .3

.ui-slide[overview="true"] content::-webkit-distributed(.ui-slide-item-pending)
    opacity 1
